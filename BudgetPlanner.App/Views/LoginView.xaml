<Window x:Class="BudgetPlanner.App.Views.LoginView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:viewmodels="clr-namespace:BudgetPlanner.App.ViewModels"
        Title="Budget Planner - Prijava" Height="566" Width="472"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="{StaticResource BackgroundBrush}">
    <Window.DataContext>
        <viewmodels:LoginViewModel/>
    </Window.DataContext>

    <Grid>
        <Border Background="{StaticResource SurfaceBrush}"
                Margin="40"
                Padding="30"
                CornerRadius="8">
            <Border.Effect>
                <DropShadowEffect BlurRadius="20" ShadowDepth="0" Opacity="0.2"/>
            </Border.Effect>

            <StackPanel>
                <!-- Logo/Naslov -->
                <TextBlock Text="ðŸ’°" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                <TextBlock Text="Budget Planner" 
                          FontSize="24" 
                          FontWeight="Bold"
                          HorizontalAlignment="Center"
                          Foreground="{StaticResource TextPrimaryBrush}"
                          Margin="0,0,0,30"/>

                <!-- KorisniÄko ime -->
                <TextBlock Text="KorisniÄko ime" Style="{StaticResource FormLabel}"/>
                <TextBox Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"
                        Style="{StaticResource ModernTextBox}"
                        Margin="0,0,0,15"/>

                <!-- Lozinka -->
                <TextBlock Text="Lozinka" Style="{StaticResource FormLabel}"/>
                <PasswordBox x:Name="PasswordBox"
                           Padding="10,8"
                           BorderBrush="#BDBDBD"
                           BorderThickness="1"
                           FontSize="14"
                           Margin="0,0,0,5"
                           PasswordChanged="PasswordBox_PasswordChanged"/>

                <!-- Poruka o greÅ¡ci -->
                <TextBlock Text="{Binding ErrorMessage}"
                          Foreground="{StaticResource ErrorBrush}"
                          FontSize="12"
                          TextWrapping="Wrap"
                          Margin="0,5,0,15"
                          Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVisibilityConverter}}"/>

                <!-- Dugmad -->
                <Button Content="Prijavi se"
                       Command="{Binding LoginCommand}"
                       Style="{StaticResource PrimaryButton}"
                       Margin="0,0,0,10"/>

                <Button Content="Registruj se"
                       Command="{Binding RegisterCommand}"
                       Background="{StaticResource AccentBrush}"
                       Style="{StaticResource PrimaryButton}"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
